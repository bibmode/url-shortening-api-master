{"id":"A2T1","dependencies":[{"name":"C:\\Users\\Owner\\Desktop\\personal projects\\url-shortening-api-master\\package.json","includedInParent":true,"mtime":1631450996676}],"generated":{"js":"\"use strict\";const e=document.querySelector(\".link-shorten__field\"),t=document.querySelector(\".link-shorten__btn\"),n=document.querySelector(\".link-shorten__error\"),s=document.querySelector(\".app\"),l=document.querySelector(\".loader\");let r=0;const i=async function(n){try{l.style.display=\"flex\",e.style.display=\"none\",t.style.display=\"none\";const i=await fetch(`https://api.shrtco.de/v2/shorten?url=${n}`);l.style.display=\"none\",e.style.display=\"block\",t.style.display=\"block\";const{ok:c,result:d}=await i.json();if(!c)throw new Error(\"An error occured please try again\");const u=d.short_link;o(n,u),r++}catch(s){console.log(s),l.style.display=\"none\",e.style.display=\"block\",t.style.display=\"block\",a(\"An error occured. Please try again!\")}},o=function(e,t){const n=t.split(/\\W/g),l=n[n.length-1],i=`<div class=\"result negative-margin\" id=\"${l}\">\\n          <h3 class=\"result__input heading-3\">\\n            ${e}\\n          </h3>\\n          <h3 class=\"result__link heading-3\">${t}</h3>\\n          <button class=\"result__btn btn-cyan\">Copy</button>\\n        </div>`;s.insertAdjacentHTML(\"beforeend\",i),r>0&&document.querySelector(`[id=\"${l}\"]`).classList.remove(\"negative-margin\");const o=document.querySelector(`[id=\"${l}\"]`);c(o)},c=function(e){e.addEventListener(\"click\",t=>{if(t.target.classList.contains(\"result__btn\")){const t=e.querySelector(\".result__link\").innerHTML,n=e.querySelector(\".result__btn\");navigator.clipboard.writeText(t),n.innerHTML=\"Copied!\",n.classList.add(\"btn-violet\"),setTimeout(()=>{n.innerHTML=\"Copy\",n.classList.remove(\"btn-violet\")},3e3)}})},a=function(t){e.classList.add(\"errorField\"),n.classList.remove(\"hidden\"),n.innerHTML=t},d=function(){\"\"!==e.value.trim()?(i(e.value.trim()),e.value=\"\",e.blur()):a(\"Please add a link\")};e.addEventListener(\"click\",()=>{e.classList.remove(\"errorField\"),n.classList.add(\"hidden\")}),e.addEventListener(\"keydown\",e=>{13===e.keyCode&&d()}),t.addEventListener(\"click\",()=>{d()});"},"sourceMaps":{"js":{"mappings":[{"source":"app.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"app.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"app.js","name":"inputField","original":{"line":3,"column":6},"generated":{"line":1,"column":19}},{"source":"app.js","name":"document","original":{"line":3,"column":19},"generated":{"line":1,"column":21}},{"source":"app.js","name":"querySelector","original":{"line":3,"column":28},"generated":{"line":1,"column":30}},{"source":"app.js","original":{"line":3,"column":42},"generated":{"line":1,"column":44}},{"source":"app.js","name":"inputButton","original":{"line":4,"column":6},"generated":{"line":1,"column":68}},{"source":"app.js","name":"document","original":{"line":4,"column":20},"generated":{"line":1,"column":70}},{"source":"app.js","name":"querySelector","original":{"line":4,"column":29},"generated":{"line":1,"column":79}},{"source":"app.js","original":{"line":4,"column":43},"generated":{"line":1,"column":93}},{"source":"app.js","name":"inputError","original":{"line":5,"column":6},"generated":{"line":1,"column":115}},{"source":"app.js","name":"document","original":{"line":5,"column":19},"generated":{"line":1,"column":117}},{"source":"app.js","name":"querySelector","original":{"line":5,"column":28},"generated":{"line":1,"column":126}},{"source":"app.js","original":{"line":5,"column":42},"generated":{"line":1,"column":140}},{"source":"app.js","name":"appDiv","original":{"line":6,"column":6},"generated":{"line":1,"column":164}},{"source":"app.js","name":"document","original":{"line":6,"column":15},"generated":{"line":1,"column":166}},{"source":"app.js","name":"querySelector","original":{"line":6,"column":24},"generated":{"line":1,"column":175}},{"source":"app.js","original":{"line":6,"column":38},"generated":{"line":1,"column":189}},{"source":"app.js","name":"loader","original":{"line":8,"column":6},"generated":{"line":1,"column":197}},{"source":"app.js","name":"document","original":{"line":8,"column":15},"generated":{"line":1,"column":199}},{"source":"app.js","name":"querySelector","original":{"line":8,"column":24},"generated":{"line":1,"column":208}},{"source":"app.js","original":{"line":8,"column":38},"generated":{"line":1,"column":222}},{"source":"app.js","original":{"line":10,"column":0},"generated":{"line":1,"column":233}},{"source":"app.js","name":"countResults","original":{"line":10,"column":4},"generated":{"line":1,"column":237}},{"source":"app.js","original":{"line":10,"column":19},"generated":{"line":1,"column":239}},{"source":"app.js","original":{"line":16,"column":0},"generated":{"line":1,"column":241}},{"source":"app.js","name":"getData","original":{"line":16,"column":6},"generated":{"line":1,"column":247}},{"source":"app.js","original":{"line":16,"column":16},"generated":{"line":1,"column":249}},{"source":"app.js","name":"userLink","original":{"line":16,"column":32},"generated":{"line":1,"column":264}},{"source":"app.js","original":{"line":17,"column":6},"generated":{"line":1,"column":267}},{"source":"app.js","name":"loader","original":{"line":18,"column":4},"generated":{"line":1,"column":271}},{"source":"app.js","name":"style","original":{"line":18,"column":11},"generated":{"line":1,"column":273}},{"source":"app.js","name":"display","original":{"line":18,"column":17},"generated":{"line":1,"column":279}},{"source":"app.js","original":{"line":18,"column":27},"generated":{"line":1,"column":287}},{"source":"app.js","name":"inputField","original":{"line":19,"column":4},"generated":{"line":1,"column":294}},{"source":"app.js","name":"style","original":{"line":19,"column":15},"generated":{"line":1,"column":296}},{"source":"app.js","name":"display","original":{"line":19,"column":21},"generated":{"line":1,"column":302}},{"source":"app.js","original":{"line":19,"column":31},"generated":{"line":1,"column":310}},{"source":"app.js","name":"inputButton","original":{"line":20,"column":4},"generated":{"line":1,"column":317}},{"source":"app.js","name":"style","original":{"line":20,"column":16},"generated":{"line":1,"column":319}},{"source":"app.js","name":"display","original":{"line":20,"column":22},"generated":{"line":1,"column":325}},{"source":"app.js","original":{"line":20,"column":32},"generated":{"line":1,"column":333}},{"source":"app.js","name":"dataSource","original":{"line":22,"column":10},"generated":{"line":1,"column":340}},{"source":"app.js","name":"dataSource","original":{"line":22,"column":10},"generated":{"line":1,"column":346}},{"source":"app.js","name":"fetch","original":{"line":22,"column":29},"generated":{"line":1,"column":354}},{"source":"app.js","name":"userLink","original":{"line":23,"column":46},"generated":{"line":1,"column":400}},{"source":"app.js","name":"loader","original":{"line":26,"column":4},"generated":{"line":1,"column":405}},{"source":"app.js","name":"style","original":{"line":26,"column":11},"generated":{"line":1,"column":407}},{"source":"app.js","name":"display","original":{"line":26,"column":17},"generated":{"line":1,"column":413}},{"source":"app.js","original":{"line":26,"column":27},"generated":{"line":1,"column":421}},{"source":"app.js","name":"inputField","original":{"line":27,"column":4},"generated":{"line":1,"column":428}},{"source":"app.js","name":"style","original":{"line":27,"column":15},"generated":{"line":1,"column":430}},{"source":"app.js","name":"display","original":{"line":27,"column":21},"generated":{"line":1,"column":436}},{"source":"app.js","original":{"line":27,"column":31},"generated":{"line":1,"column":444}},{"source":"app.js","name":"inputButton","original":{"line":28,"column":4},"generated":{"line":1,"column":452}},{"source":"app.js","name":"style","original":{"line":28,"column":16},"generated":{"line":1,"column":454}},{"source":"app.js","name":"display","original":{"line":28,"column":22},"generated":{"line":1,"column":460}},{"source":"app.js","original":{"line":28,"column":32},"generated":{"line":1,"column":468}},{"source":"app.js","original":{"line":30,"column":10},"generated":{"line":1,"column":476}},{"source":"app.js","original":{"line":30,"column":10},"generated":{"line":1,"column":482}},{"source":"app.js","name":"ok","original":{"line":30,"column":12},"generated":{"line":1,"column":485}},{"source":"app.js","original":{"line":30,"column":10},"generated":{"line":1,"column":487}},{"source":"app.js","name":"result","original":{"line":30,"column":16},"generated":{"line":1,"column":494}},{"source":"app.js","name":"dataSource","original":{"line":30,"column":33},"generated":{"line":1,"column":503}},{"source":"app.js","name":"json","original":{"line":30,"column":44},"generated":{"line":1,"column":505}},{"source":"app.js","original":{"line":32,"column":8},"generated":{"line":1,"column":512}},{"source":"app.js","name":"ok","original":{"line":32,"column":9},"generated":{"line":1,"column":516}},{"source":"app.js","original":{"line":32,"column":13},"generated":{"line":1,"column":518}},{"source":"app.js","original":{"line":32,"column":19},"generated":{"line":1,"column":524}},{"source":"app.js","name":"Error","original":{"line":32,"column":23},"generated":{"line":1,"column":528}},{"source":"app.js","original":{"line":32,"column":29},"generated":{"line":1,"column":534}},{"source":"app.js","name":"shortenLink","original":{"line":34,"column":10},"generated":{"line":1,"column":571}},{"source":"app.js","name":"shortenLink","original":{"line":34,"column":10},"generated":{"line":1,"column":577}},{"source":"app.js","name":"result","original":{"line":34,"column":24},"generated":{"line":1,"column":579}},{"source":"app.js","name":"short_link","original":{"line":34,"column":31},"generated":{"line":1,"column":581}},{"source":"app.js","name":"showResult","original":{"line":35,"column":4},"generated":{"line":1,"column":592}},{"source":"app.js","name":"userLink","original":{"line":35,"column":15},"generated":{"line":1,"column":594}},{"source":"app.js","name":"shortenLink","original":{"line":35,"column":25},"generated":{"line":1,"column":596}},{"source":"app.js","name":"countResults","original":{"line":36,"column":4},"generated":{"line":1,"column":599}},{"source":"app.js","original":{"line":37,"column":4},"generated":{"line":1,"column":603}},{"source":"app.js","name":"err","original":{"line":37,"column":11},"generated":{"line":1,"column":609}},{"source":"app.js","name":"console","original":{"line":38,"column":4},"generated":{"line":1,"column":612}},{"source":"app.js","name":"log","original":{"line":38,"column":12},"generated":{"line":1,"column":620}},{"source":"app.js","name":"err","original":{"line":38,"column":16},"generated":{"line":1,"column":624}},{"source":"app.js","name":"loader","original":{"line":39,"column":4},"generated":{"line":1,"column":627}},{"source":"app.js","name":"style","original":{"line":39,"column":11},"generated":{"line":1,"column":629}},{"source":"app.js","name":"display","original":{"line":39,"column":17},"generated":{"line":1,"column":635}},{"source":"app.js","original":{"line":39,"column":27},"generated":{"line":1,"column":643}},{"source":"app.js","name":"inputField","original":{"line":40,"column":4},"generated":{"line":1,"column":650}},{"source":"app.js","name":"style","original":{"line":40,"column":15},"generated":{"line":1,"column":652}},{"source":"app.js","name":"display","original":{"line":40,"column":21},"generated":{"line":1,"column":658}},{"source":"app.js","original":{"line":40,"column":31},"generated":{"line":1,"column":666}},{"source":"app.js","name":"inputButton","original":{"line":41,"column":4},"generated":{"line":1,"column":674}},{"source":"app.js","name":"style","original":{"line":41,"column":16},"generated":{"line":1,"column":676}},{"source":"app.js","name":"display","original":{"line":41,"column":22},"generated":{"line":1,"column":682}},{"source":"app.js","original":{"line":41,"column":32},"generated":{"line":1,"column":690}},{"source":"app.js","name":"showError","original":{"line":42,"column":4},"generated":{"line":1,"column":698}},{"source":"app.js","original":{"line":42,"column":14},"generated":{"line":1,"column":700}},{"source":"app.js","name":"showResult","original":{"line":47,"column":6},"generated":{"line":1,"column":741}},{"source":"app.js","original":{"line":47,"column":19},"generated":{"line":1,"column":743}},{"source":"app.js","name":"userLink","original":{"line":47,"column":29},"generated":{"line":1,"column":752}},{"source":"app.js","name":"shortenLink","original":{"line":47,"column":39},"generated":{"line":1,"column":754}},{"source":"app.js","name":"arr","original":{"line":48,"column":8},"generated":{"line":1,"column":757}},{"source":"app.js","name":"arr","original":{"line":48,"column":8},"generated":{"line":1,"column":763}},{"source":"app.js","name":"shortenLink","original":{"line":48,"column":14},"generated":{"line":1,"column":765}},{"source":"app.js","name":"split","original":{"line":48,"column":26},"generated":{"line":1,"column":767}},{"source":"app.js","original":{"line":48,"column":32},"generated":{"line":1,"column":773}},{"source":"app.js","name":"generatedId","original":{"line":49,"column":8},"generated":{"line":1,"column":780}},{"source":"app.js","name":"arr","original":{"line":49,"column":22},"generated":{"line":1,"column":782}},{"source":"app.js","name":"arr","original":{"line":49,"column":26},"generated":{"line":1,"column":784}},{"source":"app.js","name":"length","original":{"line":49,"column":30},"generated":{"line":1,"column":786}},{"source":"app.js","original":{"line":49,"column":39},"generated":{"line":1,"column":793}},{"source":"app.js","name":"html","original":{"line":51,"column":8},"generated":{"line":1,"column":796}},{"source":"app.js","name":"generatedId","original":{"line":51,"column":58},"generated":{"line":1,"column":841}},{"source":"app.js","name":"userLink","original":{"line":53,"column":14},"generated":{"line":1,"column":909}},{"source":"app.js","name":"shortenLink","original":{"line":55,"column":47},"generated":{"line":1,"column":977}},{"source":"app.js","name":"appDiv","original":{"line":59,"column":2},"generated":{"line":1,"column":1064}},{"source":"app.js","name":"insertAdjacentHTML","original":{"line":59,"column":9},"generated":{"line":1,"column":1066}},{"source":"app.js","original":{"line":59,"column":28},"generated":{"line":1,"column":1085}},{"source":"app.js","name":"html","original":{"line":59,"column":41},"generated":{"line":1,"column":1097}},{"source":"app.js","name":"countResults","original":{"line":61,"column":6},"generated":{"line":1,"column":1100}},{"source":"app.js","original":{"line":61,"column":21},"generated":{"line":1,"column":1102}},{"source":"app.js","name":"document","original":{"line":62,"column":4},"generated":{"line":1,"column":1105}},{"source":"app.js","name":"querySelector","original":{"line":63,"column":7},"generated":{"line":1,"column":1114}},{"source":"app.js","name":"generatedId","original":{"line":63,"column":29},"generated":{"line":1,"column":1136}},{"source":"app.js","name":"classList","original":{"line":64,"column":7},"generated":{"line":1,"column":1143}},{"source":"app.js","name":"remove","original":{"line":64,"column":17},"generated":{"line":1,"column":1153}},{"source":"app.js","original":{"line":64,"column":24},"generated":{"line":1,"column":1160}},{"source":"app.js","name":"resultDiv","original":{"line":67,"column":8},"generated":{"line":1,"column":1179}},{"source":"app.js","name":"resultDiv","original":{"line":67,"column":8},"generated":{"line":1,"column":1185}},{"source":"app.js","name":"document","original":{"line":67,"column":20},"generated":{"line":1,"column":1187}},{"source":"app.js","name":"querySelector","original":{"line":67,"column":29},"generated":{"line":1,"column":1196}},{"source":"app.js","name":"generatedId","original":{"line":67,"column":51},"generated":{"line":1,"column":1218}},{"source":"app.js","name":"copyResult","original":{"line":68,"column":2},"generated":{"line":1,"column":1225}},{"source":"app.js","name":"resultDiv","original":{"line":68,"column":13},"generated":{"line":1,"column":1227}},{"source":"app.js","name":"copyResult","original":{"line":72,"column":6},"generated":{"line":1,"column":1231}},{"source":"app.js","original":{"line":72,"column":19},"generated":{"line":1,"column":1233}},{"source":"app.js","name":"resultDiv","original":{"line":72,"column":29},"generated":{"line":1,"column":1242}},{"source":"app.js","name":"resultDiv","original":{"line":73,"column":2},"generated":{"line":1,"column":1245}},{"source":"app.js","name":"addEventListener","original":{"line":73,"column":12},"generated":{"line":1,"column":1247}},{"source":"app.js","original":{"line":73,"column":29},"generated":{"line":1,"column":1264}},{"source":"app.js","name":"e","original":{"line":73,"column":39},"generated":{"line":1,"column":1272}},{"source":"app.js","name":"e","original":{"line":74,"column":8},"generated":{"line":1,"column":1276}},{"source":"app.js","name":"e","original":{"line":74,"column":8},"generated":{"line":1,"column":1279}},{"source":"app.js","name":"target","original":{"line":74,"column":10},"generated":{"line":1,"column":1281}},{"source":"app.js","name":"classList","original":{"line":74,"column":17},"generated":{"line":1,"column":1288}},{"source":"app.js","name":"contains","original":{"line":74,"column":27},"generated":{"line":1,"column":1298}},{"source":"app.js","original":{"line":74,"column":36},"generated":{"line":1,"column":1307}},{"source":"app.js","original":{"line":74,"column":52},"generated":{"line":1,"column":1322}},{"source":"app.js","name":"result","original":{"line":75,"column":12},"generated":{"line":1,"column":1323}},{"source":"app.js","name":"result","original":{"line":75,"column":12},"generated":{"line":1,"column":1329}},{"source":"app.js","name":"resultDiv","original":{"line":75,"column":21},"generated":{"line":1,"column":1331}},{"source":"app.js","name":"querySelector","original":{"line":75,"column":31},"generated":{"line":1,"column":1333}},{"source":"app.js","original":{"line":75,"column":45},"generated":{"line":1,"column":1347}},{"source":"app.js","name":"innerHTML","original":{"line":75,"column":62},"generated":{"line":1,"column":1364}},{"source":"app.js","name":"btn","original":{"line":76,"column":12},"generated":{"line":1,"column":1374}},{"source":"app.js","name":"resultDiv","original":{"line":76,"column":18},"generated":{"line":1,"column":1376}},{"source":"app.js","name":"querySelector","original":{"line":76,"column":28},"generated":{"line":1,"column":1378}},{"source":"app.js","original":{"line":76,"column":42},"generated":{"line":1,"column":1392}},{"source":"app.js","name":"navigator","original":{"line":79,"column":6},"generated":{"line":1,"column":1408}},{"source":"app.js","name":"clipboard","original":{"line":79,"column":16},"generated":{"line":1,"column":1418}},{"source":"app.js","name":"writeText","original":{"line":79,"column":26},"generated":{"line":1,"column":1428}},{"source":"app.js","name":"result","original":{"line":79,"column":36},"generated":{"line":1,"column":1438}},{"source":"app.js","name":"btn","original":{"line":82,"column":6},"generated":{"line":1,"column":1441}},{"source":"app.js","name":"innerHTML","original":{"line":82,"column":10},"generated":{"line":1,"column":1443}},{"source":"app.js","original":{"line":82,"column":22},"generated":{"line":1,"column":1453}},{"source":"app.js","name":"btn","original":{"line":83,"column":6},"generated":{"line":1,"column":1463}},{"source":"app.js","name":"classList","original":{"line":83,"column":10},"generated":{"line":1,"column":1465}},{"source":"app.js","name":"add","original":{"line":83,"column":20},"generated":{"line":1,"column":1475}},{"source":"app.js","original":{"line":83,"column":24},"generated":{"line":1,"column":1479}},{"source":"app.js","name":"setTimeout","original":{"line":85,"column":6},"generated":{"line":1,"column":1493}},{"source":"app.js","original":{"line":85,"column":17},"generated":{"line":1,"column":1504}},{"source":"app.js","name":"btn","original":{"line":86,"column":8},"generated":{"line":1,"column":1509}},{"source":"app.js","name":"innerHTML","original":{"line":86,"column":12},"generated":{"line":1,"column":1511}},{"source":"app.js","original":{"line":86,"column":24},"generated":{"line":1,"column":1521}},{"source":"app.js","name":"btn","original":{"line":87,"column":8},"generated":{"line":1,"column":1528}},{"source":"app.js","name":"classList","original":{"line":87,"column":12},"generated":{"line":1,"column":1530}},{"source":"app.js","name":"remove","original":{"line":87,"column":22},"generated":{"line":1,"column":1540}},{"source":"app.js","original":{"line":87,"column":29},"generated":{"line":1,"column":1547}},{"source":"app.js","original":{"line":88,"column":9},"generated":{"line":1,"column":1562}},{"source":"app.js","name":"showError","original":{"line":93,"column":6},"generated":{"line":1,"column":1571}},{"source":"app.js","original":{"line":93,"column":18},"generated":{"line":1,"column":1573}},{"source":"app.js","name":"message","original":{"line":93,"column":28},"generated":{"line":1,"column":1582}},{"source":"app.js","name":"inputField","original":{"line":94,"column":2},"generated":{"line":1,"column":1585}},{"source":"app.js","name":"classList","original":{"line":94,"column":13},"generated":{"line":1,"column":1587}},{"source":"app.js","name":"add","original":{"line":94,"column":23},"generated":{"line":1,"column":1597}},{"source":"app.js","original":{"line":94,"column":27},"generated":{"line":1,"column":1601}},{"source":"app.js","name":"inputError","original":{"line":95,"column":2},"generated":{"line":1,"column":1615}},{"source":"app.js","name":"classList","original":{"line":95,"column":13},"generated":{"line":1,"column":1617}},{"source":"app.js","name":"remove","original":{"line":95,"column":23},"generated":{"line":1,"column":1627}},{"source":"app.js","original":{"line":95,"column":30},"generated":{"line":1,"column":1634}},{"source":"app.js","name":"inputError","original":{"line":96,"column":2},"generated":{"line":1,"column":1644}},{"source":"app.js","name":"innerHTML","original":{"line":96,"column":13},"generated":{"line":1,"column":1646}},{"source":"app.js","name":"message","original":{"line":96,"column":25},"generated":{"line":1,"column":1656}},{"source":"app.js","name":"useData","original":{"line":99,"column":6},"generated":{"line":1,"column":1659}},{"source":"app.js","original":{"line":99,"column":16},"generated":{"line":1,"column":1661}},{"source":"app.js","original":{"line":100,"column":34},"generated":{"line":1,"column":1672}},{"source":"app.js","name":"inputField","original":{"line":100,"column":6},"generated":{"line":1,"column":1677}},{"source":"app.js","name":"value","original":{"line":100,"column":17},"generated":{"line":1,"column":1679}},{"source":"app.js","name":"trim","original":{"line":100,"column":23},"generated":{"line":1,"column":1685}},{"source":"app.js","name":"getData","original":{"line":101,"column":4},"generated":{"line":1,"column":1693}},{"source":"app.js","name":"inputField","original":{"line":101,"column":12},"generated":{"line":1,"column":1695}},{"source":"app.js","name":"value","original":{"line":101,"column":23},"generated":{"line":1,"column":1697}},{"source":"app.js","name":"trim","original":{"line":101,"column":29},"generated":{"line":1,"column":1703}},{"source":"app.js","name":"inputField","original":{"line":102,"column":4},"generated":{"line":1,"column":1711}},{"source":"app.js","name":"value","original":{"line":102,"column":15},"generated":{"line":1,"column":1713}},{"source":"app.js","original":{"line":102,"column":23},"generated":{"line":1,"column":1719}},{"source":"app.js","name":"inputField","original":{"line":103,"column":4},"generated":{"line":1,"column":1722}},{"source":"app.js","name":"blur","original":{"line":103,"column":15},"generated":{"line":1,"column":1724}},{"source":"app.js","name":"showError","original":{"line":105,"column":4},"generated":{"line":1,"column":1732}},{"source":"app.js","original":{"line":105,"column":14},"generated":{"line":1,"column":1734}},{"source":"app.js","name":"inputField","original":{"line":112,"column":0},"generated":{"line":1,"column":1756}},{"source":"app.js","name":"addEventListener","original":{"line":112,"column":11},"generated":{"line":1,"column":1758}},{"source":"app.js","original":{"line":112,"column":28},"generated":{"line":1,"column":1775}},{"source":"app.js","original":{"line":112,"column":37},"generated":{"line":1,"column":1783}},{"source":"app.js","name":"inputField","original":{"line":113,"column":2},"generated":{"line":1,"column":1788}},{"source":"app.js","name":"classList","original":{"line":113,"column":13},"generated":{"line":1,"column":1790}},{"source":"app.js","name":"remove","original":{"line":113,"column":23},"generated":{"line":1,"column":1800}},{"source":"app.js","original":{"line":113,"column":30},"generated":{"line":1,"column":1807}},{"source":"app.js","name":"inputError","original":{"line":114,"column":2},"generated":{"line":1,"column":1821}},{"source":"app.js","name":"classList","original":{"line":114,"column":13},"generated":{"line":1,"column":1823}},{"source":"app.js","name":"add","original":{"line":114,"column":23},"generated":{"line":1,"column":1833}},{"source":"app.js","original":{"line":114,"column":27},"generated":{"line":1,"column":1837}},{"source":"app.js","name":"inputField","original":{"line":117,"column":0},"generated":{"line":1,"column":1849}},{"source":"app.js","name":"addEventListener","original":{"line":117,"column":11},"generated":{"line":1,"column":1851}},{"source":"app.js","original":{"line":117,"column":28},"generated":{"line":1,"column":1868}},{"source":"app.js","name":"e","original":{"line":117,"column":40},"generated":{"line":1,"column":1878}},{"source":"app.js","original":{"line":118,"column":20},"generated":{"line":1,"column":1882}},{"source":"app.js","name":"e","original":{"line":118,"column":6},"generated":{"line":1,"column":1887}},{"source":"app.js","name":"keyCode","original":{"line":118,"column":8},"generated":{"line":1,"column":1889}},{"source":"app.js","name":"useData","original":{"line":119,"column":4},"generated":{"line":1,"column":1898}},{"source":"app.js","name":"inputButton","original":{"line":123,"column":0},"generated":{"line":1,"column":1904}},{"source":"app.js","name":"addEventListener","original":{"line":123,"column":12},"generated":{"line":1,"column":1906}},{"source":"app.js","original":{"line":123,"column":29},"generated":{"line":1,"column":1923}},{"source":"app.js","original":{"line":123,"column":38},"generated":{"line":1,"column":1931}},{"source":"app.js","name":"useData","original":{"line":124,"column":2},"generated":{"line":1,"column":1936}}],"sources":{"app.js":"\"use strict\";\r\n\r\nconst inputField = document.querySelector(\".link-shorten__field\");\r\nconst inputButton = document.querySelector(\".link-shorten__btn\");\r\nconst inputError = document.querySelector(\".link-shorten__error\");\r\nconst appDiv = document.querySelector(\".app\");\r\n\r\nconst loader = document.querySelector(\".loader\");\r\n\r\nlet countResults = 0;\r\n\r\n//////////////////////////////////////////////////////////////\r\n// FUNCTIONS\r\n\r\n// Get Data from API\r\nconst getData = async function (userLink) {\r\n  try {\r\n    loader.style.display = \"flex\";\r\n    inputField.style.display = \"none\";\r\n    inputButton.style.display = \"none\";\r\n\r\n    const dataSource = await fetch(\r\n      `https://api.shrtco.de/v2/shorten?url=${userLink}`\r\n    );\r\n\r\n    loader.style.display = \"none\";\r\n    inputField.style.display = \"block\";\r\n    inputButton.style.display = \"block\";\r\n\r\n    const { ok, result } = await dataSource.json();\r\n\r\n    if (!ok) throw new Error(\"An error occured please try again\");\r\n\r\n    const shortenLink = result.short_link;\r\n    showResult(userLink, shortenLink);\r\n    countResults++;\r\n  } catch (err) {\r\n    console.log(err);\r\n    loader.style.display = \"none\";\r\n    inputField.style.display = \"block\";\r\n    inputButton.style.display = \"block\";\r\n    showError(\"An error occured. Please try again!\");\r\n  }\r\n};\r\n\r\n// Show Result to UI\r\nconst showResult = function (userLink, shortenLink) {\r\n  const arr = shortenLink.split(/\\W/g);\r\n  const generatedId = arr[arr.length - 1];\r\n\r\n  const html = `<div class=\"result negative-margin\" id=\"${generatedId}\">\r\n          <h3 class=\"result__input heading-3\">\r\n            ${userLink}\r\n          </h3>\r\n          <h3 class=\"result__link heading-3\">${shortenLink}</h3>\r\n          <button class=\"result__btn btn-cyan\">Copy</button>\r\n        </div>`;\r\n\r\n  appDiv.insertAdjacentHTML(\"beforeend\", html);\r\n\r\n  if (countResults > 0) {\r\n    document\r\n      .querySelector(`[id=\"${generatedId}\"]`)\r\n      .classList.remove(\"negative-margin\");\r\n  }\r\n\r\n  const resultDiv = document.querySelector(`[id=\"${generatedId}\"]`);\r\n  copyResult(resultDiv);\r\n};\r\n\r\n// Copy result to Clipboard\r\nconst copyResult = function (resultDiv) {\r\n  resultDiv.addEventListener(\"click\", (e) => {\r\n    if (e.target.classList.contains(\"result__btn\")) {\r\n      const result = resultDiv.querySelector(\".result__link\").innerHTML;\r\n      const btn = resultDiv.querySelector(\".result__btn\");\r\n\r\n      //copy to clipboard\r\n      navigator.clipboard.writeText(result);\r\n\r\n      //change button style for 3 seconds\r\n      btn.innerHTML = \"Copied!\";\r\n      btn.classList.add(\"btn-violet\");\r\n\r\n      setTimeout(() => {\r\n        btn.innerHTML = \"Copy\";\r\n        btn.classList.remove(\"btn-violet\");\r\n      }, 3000);\r\n    }\r\n  });\r\n};\r\n\r\nconst showError = function (message) {\r\n  inputField.classList.add(\"errorField\");\r\n  inputError.classList.remove(\"hidden\");\r\n  inputError.innerHTML = message;\r\n};\r\n\r\nconst useData = function () {\r\n  if (inputField.value.trim() !== \"\") {\r\n    getData(inputField.value.trim());\r\n    inputField.value = \"\";\r\n    inputField.blur();\r\n  } else {\r\n    showError(\"Please add a link\");\r\n  }\r\n};\r\n\r\n//////////////////////////////////////////////////////////////\r\n// EVENT LISTENERS\r\n\r\ninputField.addEventListener(\"click\", () => {\r\n  inputField.classList.remove(\"errorField\");\r\n  inputError.classList.add(\"hidden\");\r\n});\r\n\r\ninputField.addEventListener(\"keydown\", (e) => {\r\n  if (e.keyCode === 13) {\r\n    useData();\r\n  }\r\n});\r\n\r\ninputButton.addEventListener(\"click\", () => {\r\n  useData();\r\n});\r\n"},"lineCount":null}},"error":null,"hash":"317f7c8daea9a599b8c7c4adf0ed95c9","cacheData":{"env":{}}}